/* Copyright WYSIWYG Web Builder 2025 - http://www.wysiwygwebbuilder.com */
(function($){function validateform(t){var e=!0;return $("input",t).each((function(){settings=$.data(this,"settings"),settings&&0==doValidate(this,settings)&&(e=!1)})),$("textarea",t).each((function(){settings=$.data(this,"settings"),settings&&0==doValidate(this,settings)&&(e=!1)})),$("select",t).each((function(){settings=$.data(this,"settings"),settings&&0==doValidate(this,settings)&&(e=!1)})),e}function doFocus(t,e){if(!e.nohint){setPosition(t,e);var i="#"+$(t).attr("id")+"_bubble";"slide"==e.effect?$(i).show("slide",{direction:"right"},500):"fade"==e.effect?$(i).fadeIn(500):$(i).show()}}function doBlur(t,e){doValidate(t,e)&&isOK(t,e)}function setPosition(t,e){var i="#"+$(t).attr("id")+"_bubble",s=$(t).offset().top,n=$(t).offset().left;"topright"==e.position&&(n+=$(t).width(),"bubble"==e.bubble_class&&(n-=27),s-=$(i).height(),s-=10),"topleft"==e.position&&(s-=$(i).height(),s-=10,"bubble"==e.bubble_class&&(n-=27)),"centerright"==e.position&&(n+=$(t).width()+13),n+=e.offsetx,s+=e.offsety,$(i).css({top:s,left:n})}function setText(t,e){$(t).find(".bubbleContent").html(e)}function setBubbleColor(t,e,i){$(t).find(".bubbleContent").css("background-color",e),$(t).find(".bubbleArrow div").css("background-color",e),$(t).find(".bubbleArrow .line1").css("background-color",i),$(t).find(".bubbleArrow .line2").css("background-color",i),$(t).find(".bubbleContent").css("border-color",i),$(t).find(".bubbleArrow div").css("border-color",i),$(t).find(".bubbleArrow .line3").css("border-color",i)}function reportError(t,e,i){if(e.bootstrap)return $(t).siblings(".invalid-feedback").text(i),void $(t).removeClass("is-valid").addClass("is-invalid");var s="#"+$(t).attr("id")+"_bubble";setText(s,i),setBubbleColor(s,e.color_error,e.color_border),"slide"==e.effect?$(s).show("slide",{direction:"right"},500):"fade"==e.effect?$(s).fadeIn(500):$(s).show()}function isOK(t,e){if(e.bootstrap)return $(t).removeClass("is-invalid"),void $(t).addClass("is-valid");var i="#"+$(t).attr("id")+"_bubble";"slide"==e.effect?$(i).hide("slide",{direction:"right"},500):"fade"==e.effect?$(i).fadeOut(500,(function(){setText(i,e.title_text),setBubbleColor(i,e.color_hint,e.color_border)})):($(i).hide(),setText(i,e.title_text),setBubbleColor(i,e.color_hint,e.color_border))}function doValidate(obj,settings){var mask=null;switch(settings.type){case"text":break;case"alphanumeric":mask=/\w*/;break;case"number":mask=/^[0-9-+]+$/;break;case"email":mask=/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i;break;case"custom":mask=settings.param}if(pointer=$(obj),pointer.prop("disabled")||"none"==pointer.css("display")||"hidden"==pointer.css("visibility"))return!0;if(1==settings.required||0!=pointer.val().length){var isValid=!0;if(mask&&(isValid=mask.test(pointer.val())),isValid&&(""!=settings.length_min&&pointer.val().length<parseInt(settings.length_min)&&(isValid=!1),isValid&&""!=settings.length_max&&pointer.val().length>parseInt(settings.length_max)&&(isValid=!1)),isValid){if("number"==settings.type&&(""!=settings.value_min&&(isValid=eval(pointer.val()+settings.expr_min+settings.value_min)),isValid&&""!=settings.value_max&&(isValid=eval(pointer.val()+settings.expr_max+settings.value_max))),"checkbox"==settings.type&&(isValid=$(obj).is(":checked")),"radio"==settings.type){var name=$(obj).attr("name");$("input[name='"+name+"']:checked").val()||(isValid=!1)}if("select"==settings.type){var index=$(obj).prop("selectedIndex");-1==index&&(isValid=!1),0==index&&1==settings.disallowfirstchoice&&(isValid=!1)}if("ajax"==settings.type){isValid=!1;var data="value="+$(obj).val();$.ajax({type:"POST",async:!1,url:settings.param,data:data,success:function(t){"true"==t&&(isValid=!0)}})}return settings.match_id?(matchobj=$("#"+settings.match_id),matchsettings=matchobj.data("settings"),""!=matchobj.val()&&matchobj.val()!=pointer.val()?(reportError(obj,settings,settings.match_text),reportError(matchobj,matchsettings,matchsettings.match_text),!1):(""!=matchobj.val()&&isOK(matchobj,matchsettings),!0)):(0==isValid&&reportError(obj,settings,settings.error_text),isValid)}return reportError(obj,settings,settings.error_text),!1}return!0}$.fn.validate=function(t){return this.each((function(){$.validate(this,t)}))},$.validate=function(t,e){var i={title_text:"Please enter a value",error_text:"The entered value is invalid",color_text:"#00FF00",color_hint:"#00FF00",color_error:"#FF0000",color_border:"#808080",opacity:1,effect:"fade",match_text:"Values must be identical",match_id:null,length_min:"",length_max:"",value_min:"",value_max:"",expr_min:"",expr_max:"",type:"text",required:!0,disallowfirstchoice:!1,bootstrap:!1,nohint:!1,font_family:"Arial",font_size:"13px",font_weight:"normal",font_style:"normal",position:"topright",offsetx:0,offsety:0,bubble_class:"bubble",param:null};if(e&&(i=$.extend(i,e)),i.title_text=$(t).attr("title"),""==i.title_text&&(i.title_text="Enter a value"),i.bootstrap)i.nohint=!0;else{var s=$(t).attr("id"),n="#"+s+"_bubble",a='<div id="'+s+'_bubble" class="'+i.bubble_class+'">';a=a+'<div class="bubbleContent">'+i.title_text+"</div>",a+='<div class="bubbleArrow">',a+='<div class="line10">\x3c!-- --\x3e</div>',a+='<div class="line9">\x3c!-- --\x3e</div>',a+='<div class="line8">\x3c!-- --\x3e</div>',a+='<div class="line7">\x3c!-- --\x3e</div>',a+='<div class="line6">\x3c!-- --\x3e</div>',a+='<div class="line5">\x3c!-- --\x3e</div>',a+='<div class="line4">\x3c!-- --\x3e</div>',a+='<div class="line3">\x3c!-- --\x3e</div>',a+='<div class="line2">\x3c!-- --\x3e</div>',a+='<div class="line1">\x3c!-- --\x3e</div>',a+="</div>",a+="</div>",$("body").append(a),$(t).removeAttr("title"),setPosition(t,i),$(n).css("opacity",i.opacity),setBubbleColor(n,i.color_hint,i.color_border),$(n).find(".bubbleContent").css("color",i.color_text),$(n).find(".bubbleContent").css("font-family",i.font_family),$(n).find(".bubbleContent").css("font-size",i.font_size),$(n).find(".bubbleContent").css("font-weight",i.font_weight),$(n).find(".bubbleContent").css("font-style",i.font_style),$(n).hide()}$.data(t,"settings",i),$(t).focus((function(){doFocus(t,i)})).blur((function(){doBlur(t,i)}))},$.validate.form=function(t){return validateform(t)}})(jQuery);